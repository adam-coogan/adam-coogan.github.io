{"version":3,"sources":["webpack://adam-coogan.github.io/./node_modules/React/cjs/react.production.min.js","webpack://adam-coogan.github.io/./node_modules/React/index.js","webpack://adam-coogan.github.io/./src/components/lensing/shpopcontrols.tsx","webpack://adam-coogan.github.io/./src/images/horseshoe.jpg","webpack://adam-coogan.github.io/./src/components/horseshoe.tsx","webpack://adam-coogan.github.io/./src/images/cdm-galaxy.png","webpack://adam-coogan.github.io/./src/components/cdmgalaxy.tsx","webpack://adam-coogan.github.io/./src/images/wdm-galaxy.png","webpack://adam-coogan.github.io/./src/components/wdmgalaxy.tsx","webpack://adam-coogan.github.io/./src/pages/interactive-lensing.tsx"],"names":["l","n","p","exports","Fragment","StrictMode","Profiler","q","r","t","Suspense","u","v","Symbol","for","w","x","iterator","z","a","b","c","arguments","length","encodeURIComponent","A","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","B","C","this","props","context","refs","updater","D","E","prototype","isReactComponent","setState","Error","forceUpdate","F","constructor","isPureReactComponent","G","current","H","Object","hasOwnProperty","I","key","ref","__self","__source","J","e","d","k","h","call","g","children","f","Array","m","defaultProps","$$typeof","type","_owner","L","M","N","replace","escape","toString","O","isArray","K","push","y","next","done","value","keys","join","P","Q","_status","_result","then","default","R","S","T","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","ReactCurrentOwner","IsSomeRendererActing","assign","Children","map","forEach","apply","count","toArray","only","Component","PureComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","version","module","resampleSHs","hideSHs","toggleHideSHs","onClick","selected","styled","Photo","fsLensSource","getFSLensSource","x_s","setXs","EUCLID_RES","y_s","setYs","phi_sDeg","setPhisDeg","q_s","setQs","index","setIndex","r_e","setRe","phi_lDeg","setPhilDeg","q_l","setQl","r_ein","setRein","INIT_LENS_LIGHT_SCALE","lensLightScale","setLensLightScale","gamma_1","setGamma_1","gamma_2","setGamma_2","sampleSHParams","shParams","setSHParams","setHideSHs","res","setRes","sigma_n","setSigmaN","highFlux","highFluxSrc","maxFlux","canvasDim","nPix","getNPix","TARGET_RANGE","range","nPixFine","UPSAMPLE","getNoiseTexArray","noiseArray","setNoiseArray","intro","id","style","width","margin","paddingBottom","padding","href","display","justifyContent","paddingRight","minWidth","sourceColumn","flexDirection","alignItems","data-tip","data-for","I_e","lowFlux","phiDeg","setX","setY","setPhiDeg","setQ","newNPix","resampleNoise","obsColumn","paddingLeft","x_l","y_l","x_sh","x_shs","y_sh","y_shs","M_200c","M_200cs","tau","fill","TAU","noiseRange","lensLight","toggleLensLight","visualization","backgroundColor"],"mappings":"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","file":"component---src-pages-interactive-lensing-tsx-11643c8d5be9c2a5362d.js","sourcesContent":["/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar l = require(\"object-assign\"),\n    n = 60103,\n    p = 60106;\n\nexports.Fragment = 60107;\nexports.StrictMode = 60108;\nexports.Profiler = 60114;\nvar q = 60109,\n    r = 60110,\n    t = 60112;\nexports.Suspense = 60113;\nvar u = 60115,\n    v = 60116;\n\nif (\"function\" === typeof Symbol && Symbol.for) {\n  var w = Symbol.for;\n  n = w(\"react.element\");\n  p = w(\"react.portal\");\n  exports.Fragment = w(\"react.fragment\");\n  exports.StrictMode = w(\"react.strict_mode\");\n  exports.Profiler = w(\"react.profiler\");\n  q = w(\"react.provider\");\n  r = w(\"react.context\");\n  t = w(\"react.forward_ref\");\n  exports.Suspense = w(\"react.suspense\");\n  u = w(\"react.memo\");\n  v = w(\"react.lazy\");\n}\n\nvar x = \"function\" === typeof Symbol && Symbol.iterator;\n\nfunction y(a) {\n  if (null === a || \"object\" !== typeof a) return null;\n  a = x && a[x] || a[\"@@iterator\"];\n  return \"function\" === typeof a ? a : null;\n}\n\nfunction z(a) {\n  for (var b = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + a, c = 1; c < arguments.length; c++) {\n    b += \"&args[]=\" + encodeURIComponent(arguments[c]);\n  }\n\n  return \"Minified React error #\" + a + \"; visit \" + b + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\";\n}\n\nvar A = {\n  isMounted: function isMounted() {\n    return !1;\n  },\n  enqueueForceUpdate: function enqueueForceUpdate() {},\n  enqueueReplaceState: function enqueueReplaceState() {},\n  enqueueSetState: function enqueueSetState() {}\n},\n    B = {};\n\nfunction C(a, b, c) {\n  this.props = a;\n  this.context = b;\n  this.refs = B;\n  this.updater = c || A;\n}\n\nC.prototype.isReactComponent = {};\n\nC.prototype.setState = function (a, b) {\n  if (\"object\" !== typeof a && \"function\" !== typeof a && null != a) throw Error(z(85));\n  this.updater.enqueueSetState(this, a, b, \"setState\");\n};\n\nC.prototype.forceUpdate = function (a) {\n  this.updater.enqueueForceUpdate(this, a, \"forceUpdate\");\n};\n\nfunction D() {}\n\nD.prototype = C.prototype;\n\nfunction E(a, b, c) {\n  this.props = a;\n  this.context = b;\n  this.refs = B;\n  this.updater = c || A;\n}\n\nvar F = E.prototype = new D();\nF.constructor = E;\nl(F, C.prototype);\nF.isPureReactComponent = !0;\nvar G = {\n  current: null\n},\n    H = Object.prototype.hasOwnProperty,\n    I = {\n  key: !0,\n  ref: !0,\n  __self: !0,\n  __source: !0\n};\n\nfunction J(a, b, c) {\n  var e,\n      d = {},\n      k = null,\n      h = null;\n  if (null != b) for (e in void 0 !== b.ref && (h = b.ref), void 0 !== b.key && (k = \"\" + b.key), b) {\n    H.call(b, e) && !I.hasOwnProperty(e) && (d[e] = b[e]);\n  }\n  var g = arguments.length - 2;\n  if (1 === g) d.children = c;else if (1 < g) {\n    for (var f = Array(g), m = 0; m < g; m++) {\n      f[m] = arguments[m + 2];\n    }\n\n    d.children = f;\n  }\n  if (a && a.defaultProps) for (e in g = a.defaultProps, g) {\n    void 0 === d[e] && (d[e] = g[e]);\n  }\n  return {\n    $$typeof: n,\n    type: a,\n    key: k,\n    ref: h,\n    props: d,\n    _owner: G.current\n  };\n}\n\nfunction K(a, b) {\n  return {\n    $$typeof: n,\n    type: a.type,\n    key: b,\n    ref: a.ref,\n    props: a.props,\n    _owner: a._owner\n  };\n}\n\nfunction L(a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === n;\n}\n\nfunction escape(a) {\n  var b = {\n    \"=\": \"=0\",\n    \":\": \"=2\"\n  };\n  return \"$\" + a.replace(/[=:]/g, function (a) {\n    return b[a];\n  });\n}\n\nvar M = /\\/+/g;\n\nfunction N(a, b) {\n  return \"object\" === typeof a && null !== a && null != a.key ? escape(\"\" + a.key) : b.toString(36);\n}\n\nfunction O(a, b, c, e, d) {\n  var k = typeof a;\n  if (\"undefined\" === k || \"boolean\" === k) a = null;\n  var h = !1;\n  if (null === a) h = !0;else switch (k) {\n    case \"string\":\n    case \"number\":\n      h = !0;\n      break;\n\n    case \"object\":\n      switch (a.$$typeof) {\n        case n:\n        case p:\n          h = !0;\n      }\n\n  }\n  if (h) return h = a, d = d(h), a = \"\" === e ? \".\" + N(h, 0) : e, Array.isArray(d) ? (c = \"\", null != a && (c = a.replace(M, \"$&/\") + \"/\"), O(d, b, c, \"\", function (a) {\n    return a;\n  })) : null != d && (L(d) && (d = K(d, c + (!d.key || h && h.key === d.key ? \"\" : (\"\" + d.key).replace(M, \"$&/\") + \"/\") + a)), b.push(d)), 1;\n  h = 0;\n  e = \"\" === e ? \".\" : e + \":\";\n  if (Array.isArray(a)) for (var g = 0; g < a.length; g++) {\n    k = a[g];\n    var f = e + N(k, g);\n    h += O(k, b, c, f, d);\n  } else if (f = y(a), \"function\" === typeof f) for (a = f.call(a), g = 0; !(k = a.next()).done;) {\n    k = k.value, f = e + N(k, g++), h += O(k, b, c, f, d);\n  } else if (\"object\" === k) throw b = \"\" + a, Error(z(31, \"[object Object]\" === b ? \"object with keys {\" + Object.keys(a).join(\", \") + \"}\" : b));\n  return h;\n}\n\nfunction P(a, b, c) {\n  if (null == a) return a;\n  var e = [],\n      d = 0;\n  O(a, e, \"\", \"\", function (a) {\n    return b.call(c, a, d++);\n  });\n  return e;\n}\n\nfunction Q(a) {\n  if (-1 === a._status) {\n    var b = a._result;\n    b = b();\n    a._status = 0;\n    a._result = b;\n    b.then(function (b) {\n      0 === a._status && (b = b.default, a._status = 1, a._result = b);\n    }, function (b) {\n      0 === a._status && (a._status = 2, a._result = b);\n    });\n  }\n\n  if (1 === a._status) return a._result;\n  throw a._result;\n}\n\nvar R = {\n  current: null\n};\n\nfunction S() {\n  var a = R.current;\n  if (null === a) throw Error(z(321));\n  return a;\n}\n\nvar T = {\n  ReactCurrentDispatcher: R,\n  ReactCurrentBatchConfig: {\n    transition: 0\n  },\n  ReactCurrentOwner: G,\n  IsSomeRendererActing: {\n    current: !1\n  },\n  assign: l\n};\nexports.Children = {\n  map: P,\n  forEach: function forEach(a, b, c) {\n    P(a, function () {\n      b.apply(this, arguments);\n    }, c);\n  },\n  count: function count(a) {\n    var b = 0;\n    P(a, function () {\n      b++;\n    });\n    return b;\n  },\n  toArray: function toArray(a) {\n    return P(a, function (a) {\n      return a;\n    }) || [];\n  },\n  only: function only(a) {\n    if (!L(a)) throw Error(z(143));\n    return a;\n  }\n};\nexports.Component = C;\nexports.PureComponent = E;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = T;\n\nexports.cloneElement = function (a, b, c) {\n  if (null === a || void 0 === a) throw Error(z(267, a));\n  var e = l({}, a.props),\n      d = a.key,\n      k = a.ref,\n      h = a._owner;\n\n  if (null != b) {\n    void 0 !== b.ref && (k = b.ref, h = G.current);\n    void 0 !== b.key && (d = \"\" + b.key);\n    if (a.type && a.type.defaultProps) var g = a.type.defaultProps;\n\n    for (f in b) {\n      H.call(b, f) && !I.hasOwnProperty(f) && (e[f] = void 0 === b[f] && void 0 !== g ? g[f] : b[f]);\n    }\n  }\n\n  var f = arguments.length - 2;\n  if (1 === f) e.children = c;else if (1 < f) {\n    g = Array(f);\n\n    for (var m = 0; m < f; m++) {\n      g[m] = arguments[m + 2];\n    }\n\n    e.children = g;\n  }\n  return {\n    $$typeof: n,\n    type: a.type,\n    key: d,\n    ref: k,\n    props: e,\n    _owner: h\n  };\n};\n\nexports.createContext = function (a, b) {\n  void 0 === b && (b = null);\n  a = {\n    $$typeof: r,\n    _calculateChangedBits: b,\n    _currentValue: a,\n    _currentValue2: a,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  a.Provider = {\n    $$typeof: q,\n    _context: a\n  };\n  return a.Consumer = a;\n};\n\nexports.createElement = J;\n\nexports.createFactory = function (a) {\n  var b = J.bind(null, a);\n  b.type = a;\n  return b;\n};\n\nexports.createRef = function () {\n  return {\n    current: null\n  };\n};\n\nexports.forwardRef = function (a) {\n  return {\n    $$typeof: t,\n    render: a\n  };\n};\n\nexports.isValidElement = L;\n\nexports.lazy = function (a) {\n  return {\n    $$typeof: v,\n    _payload: {\n      _status: -1,\n      _result: a\n    },\n    _init: Q\n  };\n};\n\nexports.memo = function (a, b) {\n  return {\n    $$typeof: u,\n    type: a,\n    compare: void 0 === b ? null : b\n  };\n};\n\nexports.useCallback = function (a, b) {\n  return S().useCallback(a, b);\n};\n\nexports.useContext = function (a, b) {\n  return S().useContext(a, b);\n};\n\nexports.useDebugValue = function () {};\n\nexports.useEffect = function (a, b) {\n  return S().useEffect(a, b);\n};\n\nexports.useImperativeHandle = function (a, b, c) {\n  return S().useImperativeHandle(a, b, c);\n};\n\nexports.useLayoutEffect = function (a, b) {\n  return S().useLayoutEffect(a, b);\n};\n\nexports.useMemo = function (a, b) {\n  return S().useMemo(a, b);\n};\n\nexports.useReducer = function (a, b, c) {\n  return S().useReducer(a, b, c);\n};\n\nexports.useRef = function (a) {\n  return S().useRef(a);\n};\n\nexports.useState = function (a) {\n  return S().useState(a);\n};\n\nexports.version = \"17.0.1\";","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}","import React from \"React\";\nimport Button from \"./button\";\n\nconst SHPopControls = ({ resampleSHs, hideSHs, toggleHideSHs }) => (\n  <div>\n    <h2>Subhalo parameters</h2>\n    <Button onClick={() => resampleSHs()}>Resample subhalos</Button>\n    <Button onClick={() => toggleHideSHs()} selected={!hideSHs}>\n      {hideSHs ? \"Show subhalos\" : \"Hide subhalos\"}\n    </Button>\n  </div>\n);\n\nexport default SHPopControls;\n","export default __webpack_public_path__ + \"static/horseshoe-4af20953c99936a0e44bcbdc7e0dd8ff.jpg\";","import styled from \"styled-components\";\nimport Photo from \"../images/horseshoe.jpg\";\n\nconst Horseshoe = styled.div`\n  background-image: url(\"${Photo}\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 250px;\n  height: 250px;\n  background-position: left;\n`;\n\nexport default Horseshoe\n","export default __webpack_public_path__ + \"static/cdm-galaxy-9aa9eb5af2e6561e31f620faa08a7f51.png\";","import styled from \"styled-components\";\nimport Photo from \"../images/cdm-galaxy.png\";\n\nconst CDMGalaxy = styled.div`\n  background-image: url(\"${Photo}\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 250px;\n  height: 250px;\n  background-position: left;\n`;\n\nexport default CDMGalaxy\n","export default __webpack_public_path__ + \"static/wdm-galaxy-70429444d72013e26df1d5403a9a83a3.png\";","import styled from \"styled-components\";\nimport Photo from \"../images/wdm-galaxy.png\";\n\nconst WDMGalaxy = styled.div`\n  background-image: url(\"${Photo}\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 250px;\n  height: 250px;\n  background-position: left;\n`;\n\nexport default WDMGalaxy\n","import React, { useState } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport Layout from \"../components/layout\";\nimport Horseshoe from \"../components/horseshoe\";\nimport CDMGalaxy from \"../components/cdmgalaxy\";\nimport WDMGalaxy from \"../components/wdmgalaxy\";\nimport ImageCanvas from \"../components/lensing/imagecanvas\";\nimport LensControls from \"../components/lensing/lenscontrols\";\nimport ShearControls from \"../components/lensing/shearcontrols\";\nimport SHPopControls from \"../components/lensing/shpopcontrols\";\nimport SourceCanvas from \"../components/lensing/sourcecanvas\";\nimport SourceControls from \"../components/lensing/sourcecontrols\";\nimport TelescopeControls from \"../components/lensing/telescopecontrols\";\nimport {\n  EUCLID_RES,\n  INIT_LENS_LIGHT_SCALE,\n  TARGET_RANGE,\n  TAU,\n  UPSAMPLE,\n} from \"../utils/constants\";\nimport { getFSLensSource } from \"../utils/shaders\";\nimport { getNoiseTexArray, getNPix, sampleSHParams } from \"../utils/utils\";\n\n/*\n * Generate images with a population of 50 subhalos.\n */\n\nconst N_SH = 50;\nconst fsLensSource = getFSLensSource(N_SH);\n\nconst Page = () => {\n  // Source parameters\n  const [x_s, setXs] = useState(0.05);\n  const [y_s, setYs] = useState(EUCLID_RES);\n  const [phi_sDeg, setPhisDeg] = useState(40.107);\n  const [q_s, setQs] = useState(0.5);\n  const [index, setIndex] = useState(4.0);\n  const [r_e, setRe] = useState(5.0);\n  const I_e = 0.05;\n  // Main lens parameters\n  const x_l = 0.0;\n  const y_l = 0.0;\n  const [phi_lDeg, setPhilDeg] = useState(57.296);\n  const [q_l, setQl] = useState(0.75);\n  const [r_ein, setRein] = useState(1.5);\n  const [lensLightScale, setLensLightScale] = useState(INIT_LENS_LIGHT_SCALE);\n  // Shear parameters\n  const [gamma_1, setGamma_1] = useState(0.007);\n  const [gamma_2, setGamma_2] = useState(0.01);\n  // Subhalo parameters\n  const [shParams, setSHParams] = useState(sampleSHParams(N_SH));\n  const [hideSHs, setHideSHs] = useState(true);\n  // Telescope parameters\n  const [res, setRes] = useState(0.1);\n  const [sigma_n, setSigmaN] = useState(0.5);\n  // Final flux scale\n  const lowFlux = -3;\n  const highFlux = lensLightScale === 0 ? 23 : INIT_LENS_LIGHT_SCALE;\n  const lowFluxSrc = lowFlux;\n  const highFluxSrc = highFlux;\n  // Intermediate flux scale\n  const maxFlux = highFlux;\n  // Image constants\n  const padding = 40;\n  const canvasDim = 400; // final canvas size\n  const nPix = getNPix(canvasDim, TARGET_RANGE, res); // final size in pixels\n  const range = (nPix * res) / 2; // arcsec\n  const nPixFine = UPSAMPLE * nPix; // fine grid pixel size\n  // Noise\n  const noiseRange = 5;\n  const [noiseArray, setNoiseArray] = useState(\n    getNoiseTexArray(nPix ** 2, noiseRange)\n  );\n\n  const intro = (\n    <div\n      id=\"intro\"\n      style={{\n        width: `${2 * canvasDim}px`,\n        margin: \"auto\",\n        paddingBottom: `${padding / 2}px`,\n      }}\n    >\n      <h1>Probing dark matter with strong gravitational lensing</h1>\n      <p>\n        A range of observations on galactic through cosmological scales demand\n        the existence of <b>dark matter</b>, which outweighs normal matter by\n        4:1. But beyond its abundance and distribution on large scales, the\n        identity of the fundamental constituents of dark matter remains unknown.\n      </p>\n      <p>\n        The fundamental properties of dark matter are closely connected with how\n        it is distributed on small scales. For example, the images below from\n        this simulation visualize the dark matter in a galaxy assuming it is{\" \"}\n        <b>cold</b>\n        (i.e. heavy and slow-moving, left plot) or warm (i.e. light and\n        fast-moving, right plot). The difference is striking: if dark matter is\n        warm, galaxies should contain far fewer small structures (more properly\n        called\n        <a href=\"https://en.wikipedia.org/wiki/Dark_matter_halo\">\n          <b>subhalos</b>\n        </a>\n        ) than if it is cold. The general lesson is that learning how dark\n        matter is distributed on subgalactic scales tells us something about its\n        fundamental properties.\n      </p>\n      <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n        <CDMGalaxy /> <WDMGalaxy />\n      </div>\n      <p>\n        Since small subhalos are made purely of dark matter, they don't emit\n        light and are hard to search for. Instead, I use{\" \"}\n        <a href=\"https://en.wikipedia.org/wiki/Gravitational_lens\">\n          <b>gravitational lensing</b>\n        </a>{\" \"}\n        to search for them.\n      </p>\n      <div style={{ display: \"flex\" }}>\n        <div style={{ paddingRight: `${padding}px` }}>\n          <p>\n            To right is a Hubble Space Telescope image of the famous{\" \"}\n            <a href=\"https://en.wikipedia.org/wiki/Cosmic_Horseshoe\">\n              Horseshoe lens\n            </a>\n            . The orange light is from the system's <i>lens</i> galaxy. The blue\n            light comes from the <i>source</i> galaxy. The source is not really\n            ring-shaped. Instead, it lies a good distance directly behind the\n            lens, whose gravitational field dramatically distorts the source's\n            light.\n          </p>\n          <p>\n            The lens galaxy consists of a large amount of dark matter, stars,\n            dust and gas, and the ring-shaped distortion it produces is\n            immediately apparent. However, the gravitational distortions caused\n            by dark matter subhalos located in the lens are far more subtle.\n            Measuring their distortions requires precision statistical analysis.\n          </p>\n        </div>\n        <Horseshoe style={{ minWidth: \"250px\" }} />\n      </div>\n      <p>\n        <b>\n          I use machine learning and statistics to detect and measure the\n          distortions from subhalos in lenses\n        </b>\n        . The visualization below will give you a sense of why this is a\n        difficult problem. The left image shows a simple model for what the\n        light could look like from an undistorted source galaxy. The image on\n        the right shows what a telescope would see: the distorted ring of light\n        from the source, plus the light from the lens. Some things to explore:\n      </p>\n      <ul>\n        <li>\n          Click the \"Resample subhalos\" button to see how small the distortions\n          from subhalos are. The variations between images with different\n          subhalo populations can be quite small! Where in the observation are\n          the differences most apparent? (Click \"Show subhalos\" if you want to\n          see wherre the subhalos are located.)\n        </li>\n        <li>\n          Change the sliders controlling the source, lens and shear parameters\n          to see how they impact the observation. Can you find configurations\n          where the subhalos' distortions are more apparent?\n        </li>\n        <li>\n          Upcoming telescopes like the Extremely Large Telescope (ELT) and James\n          Webb Space Telescope (JWST) will have much higher resolution than the\n          Hubble Space Telescope. What impact does that have on how easy it is\n          to see distortions from subhalos?\n        </li>\n        <li>\n          Longer telescope observations reduce the noise in the observation. How\n          does this help make the effects of subhalos more apparent?\n        </li>\n        <li>\n          If you want to hide the light from the lens galaxy to make the\n          distorted source galaxy easier to see, click \"Turn off lens light\".\n          Subtracting this light from observations is typically the first stage\n          in the data analysis.\n        </li>\n      </ul>\n    </div>\n  );\n  const sourceColumn = (\n    <div\n      style={{\n        width: canvasDim,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"left\",\n        paddingRight: `${padding}px`,\n      }}\n    >\n      <div>\n        <h2 data-tip data-for=\"sourceHeaderTT\">\n          Source\n        </h2>\n        <ReactTooltip id=\"sourceHeaderTT\">\n          Source galaxy with no lensing\n        </ReactTooltip>\n        <SourceCanvas\n          x_s={x_s}\n          y_s={y_s}\n          phi_sDeg={phi_sDeg}\n          q_s={q_s}\n          index={index}\n          r_e={r_e}\n          I_e={I_e}\n          lowFlux={lowFluxSrc}\n          highFlux={highFluxSrc}\n          range={range}\n          canvasDim={canvasDim}\n        />\n      </div>\n      <SourceControls\n        x={x_s}\n        y={y_s}\n        phiDeg={phi_sDeg}\n        q={q_s}\n        index={index}\n        r_e={r_e}\n        setX={setXs}\n        setY={setYs}\n        setPhiDeg={setPhisDeg}\n        setQ={setQs}\n        setIndex={setIndex}\n        setRe={setRe}\n      />\n      <TelescopeControls\n        sigma_n={sigma_n}\n        setSigmaN={setSigmaN}\n        setRes={(res: number) => {\n          setRes(res);\n          const newNPix = getNPix(canvasDim, TARGET_RANGE, res);\n          setNoiseArray(getNoiseTexArray(newNPix ** 2, noiseRange));\n        }}\n        resampleNoise={() =>\n          setNoiseArray(getNoiseTexArray(nPix ** 2, noiseRange))\n        }\n      />\n    </div>\n  );\n\n  const obsColumn = (\n    <div\n      style={{\n        width: canvasDim,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"left\",\n        paddingLeft: `${padding}px`,\n      }}\n    >\n      <div>\n        <h2 data-tip data-for=\"obsHeaderTT\">\n          Observation\n        </h2>\n        <ReactTooltip id=\"obsHeaderTT\">\n          Observation of lensed galaxy seen by telescope\n        </ReactTooltip>\n        <ImageCanvas\n          fsLensSource={fsLensSource}\n          // Source parameters\n          x_s={x_s}\n          y_s={y_s}\n          phi_sDeg={phi_sDeg}\n          q_s={q_s}\n          index={index}\n          r_e={r_e}\n          I_e={I_e}\n          // Main lens parameters\n          x_l={x_l}\n          y_l={y_l}\n          phi_lDeg={phi_lDeg}\n          q_l={q_l}\n          r_ein={r_ein}\n          lensLightScale={lensLightScale}\n          // External shear parameters\n          gamma_1={gamma_1}\n          gamma_2={gamma_2}\n          // Subhalo parameters\n          x_sh={shParams.x_shs}\n          y_sh={shParams.y_shs}\n          M_200c={shParams.M_200cs}\n          tau={new Array(N_SH).fill(TAU)}\n          hideSHs={hideSHs}\n          // Misc parameters\n          noiseArray={noiseArray}\n          noiseRange={noiseRange}\n          sigma_n={sigma_n}\n          maxFlux={maxFlux}\n          lowFlux={lowFlux}\n          highFlux={highFlux}\n          res={res}\n          nPix={nPix}\n          nPixFine={nPixFine}\n          range={range}\n          canvasDim={canvasDim}\n        />\n      </div>\n      <SHPopControls\n        resampleSHs={() => setSHParams(sampleSHParams(N_SH))}\n        hideSHs={hideSHs}\n        toggleHideSHs={() => (hideSHs ? setHideSHs(false) : setHideSHs(true))}\n      />\n      <LensControls\n        phiDeg={phi_lDeg}\n        q={q_l}\n        r_ein={r_ein}\n        lensLight={lensLightScale !== 0.0}\n        setPhiDeg={setPhilDeg}\n        setQ={setQl}\n        setRein={setRein}\n        toggleLensLight={() =>\n          lensLightScale === 0.0\n            ? setLensLightScale(INIT_LENS_LIGHT_SCALE)\n            : setLensLightScale(0.0)\n        }\n      />\n      <ShearControls\n        gamma_1={gamma_1}\n        gamma_2={gamma_2}\n        setGamma_1={setGamma_1}\n        setGamma_2={setGamma_2}\n      />\n    </div>\n  );\n\n  const visualization = (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"row\",\n      }}\n    >\n      {sourceColumn}\n      {obsColumn}\n    </div>\n  );\n\n  return (\n    <Layout>\n      <div style={{ backgroundColor: \"#232323\" }}>\n        <div\n          style={{\n            backgroundColor: \"#FFFFFF\",\n            width: `${2 * (canvasDim + padding)}px`,\n            padding: `${1.5 * padding}px`,\n            margin: \"auto\",\n          }}\n        >\n          {intro}\n          <hr />\n          {visualization}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Page;\n"],"sourceRoot":""}