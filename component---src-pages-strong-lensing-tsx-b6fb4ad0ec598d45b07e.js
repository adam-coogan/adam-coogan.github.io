(self.webpackChunkadam_coogan_github_io=self.webpackChunkadam_coogan_github_io||[]).push([[317],{4911:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(9756),r=a(7294),l=a(2109),i=function(e,t,a){var n=a.x,r=a.y,l=a.phi,i=a.q,s=a.index,o=a.r_e,c=a.I_e,h=2*s-1/3+4/405/s+46/25515/Math.pow(s,2),u=e-n,m=t-r,p=u*Math.cos(l)+m*Math.sin(l),M=-u*Math.sin(l)+m*Math.cos(l),d=Math.sqrt(Math.pow(p,2)*i+Math.pow(M,2)/i)/o,v=-h*(Math.pow(d,1/s)-1);return c*Math.exp(v)},s=.30966,o=127052815397.49832*(s*Math.pow(1.6,3)+(1-s)),c=1420.2484,h=1/(4*Math.PI*4.79e-20*c*1055.6056/1704.8621),u=function(e){var t=Math.log(1+e)-e/(1+e);return 200/3*Math.pow(e,3)/t},m=function(e){return Math.pow(3/(4*Math.PI)*e/(200*o),1/3)},p=function(e){var t=function(e,t){var a=4-t,n=a>=0?1.7543-.2766*(1+t)+.02039*Math.pow(1+t,2):1.3081-.1078*(1+t)+.00398*Math.pow(1+t,2),r=a>=0?.2753+.0035*(1+t)-.3038*Math.pow(1+t,.0269):.0223-.0944*Math.pow(1+t,-.3907),l=a>=0?.02102*Math.pow(1+t,-.1475)-.01537:0,i=n+r*Math.log10(e)*(1+l*Math.pow(Math.log10(e),2));return Math.pow(10,i)}(e,.6);return{rho_s:o*u(t),r_s:m(e)/t}},M=a(1644),d=function(e,t,a,n,r,l,s){var o=Object.assign({x:a.x,y:a.y,tau:a.tau},p(a.M_200c)),u=(0,M.At)(n,r,l,(function(a,n){var r=function(e,t,a){var n=a.x,r=a.y,l=a.phi,i=a.q,s=a.r_ein,o=e-n,c=t-r,h=(o*Math.cos(l)+c*Math.sin(l))*Math.sqrt(i),u=(-o*Math.sin(l)+c*Math.cos(l))/Math.sqrt(i),m=Math.atan2(u,h),p=2*s*Math.sqrt(i/(1-Math.pow(i,2)))*Math.atan(Math.sqrt((1-i)/(1+i))),M=p*Math.cos(m),d=p*Math.sin(m);return{alpha_x:M*Math.cos(l)-d*Math.sin(l),alpha_y:d*Math.cos(l)+M*Math.sin(l)}}(a,n,t),l=r.alpha_x,s=r.alpha_y,u=function(e,t,a){var n=a.x,r=a.y,l=a.rho_s,i=a.r_s,s=a.tau,o=i/c*(180/Math.PI*Math.pow(60,2)),u=e-n,m=t-r,p=Math.sqrt(Math.pow(u,2)+Math.pow(m,2))/o,M=(p>=1?Math.acos(1/p):Math.acosh(1/p))/Math.sqrt(Math.abs(Math.pow(p,2)-1)),d=Math.log((p+1e-12)/(Math.sqrt(Math.pow(p,2)+Math.pow(s,2))+s)),v=4*Math.PI*Math.pow(s,2)/Math.pow(Math.pow(s,2)+1,2)*((Math.pow(s,2)+2*Math.pow(p,2)-1)*M+Math.PI*s+(Math.pow(s,2)-1)*Math.log(s)+Math.sqrt(Math.pow(p,2)+Math.pow(s,2))*((Math.pow(s,2)-1)/s*d-Math.PI)),f=l*i/h*v/Math.PI/Math.pow(p+1e-12,2);return{alpha_x:f*u,alpha_y:f*m}}(a,n,o),m=u.alpha_x,p=u.alpha_y;return i(a-(l+m),n-(s+p),e)}));if(s<=0)return u;for(var m=new Float32Array(Math.pow(Math.round(r/n),2)),d=0;d<u.length;d+=1)m[d]=u[d]+s*(0,M.Bu)();return m},v=["draw"],f=function(e){var t=e.draw,a=(0,n.Z)(e,v),l=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var a=t.current,n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),e(n)}),[e]),t}(t);return r.createElement("canvas",Object.assign({ref:l},a))},g=function(e){var t=e.label,a=e.value,n=e.set,i=e.min,s=e.max,o=e.description,c=o?r.createElement(r.Fragment,null,r.createElement("label",{style:{flex:2,margin:"0.2rem"},"data-tip":!0,"data-for":o},t),r.createElement(l.Z,{id:o},o)," "):r.createElement("label",{style:{flex:2,margin:"0.2rem"}},t);return r.createElement("div",{style:{display:"flex",alignItems:"center"}},c,r.createElement("input",{style:{flex:1,margin:"0.2rem",minWidth:0},type:"text",min:i,max:s,step:.001,value:a,onChange:function(e){return n(parseFloat(e.target.value))}}),r.createElement("input",{style:{flex:3,margin:"0.2rem"},type:"range",min:i,max:s,step:.001,value:a,onChange:function(e){return n(parseFloat(e.target.value))}}))},x=function(e){var t=e.x,a=e.y,n=e.phiDeg,l=e.q,i=e.index,s=e.r_e,o=e.setX,c=e.setY,h=e.setPhiDeg,u=e.setQ,m=e.setIndex,p=e.setRe;return r.createElement("div",null,r.createElement("h2",null,"Source parameters"),r.createElement(g,{label:"Position (x) ['']",value:t,set:o,min:-5,max:5}),r.createElement(g,{label:"Position (y) ['']",value:a,set:c,min:-5,max:5}),r.createElement(g,{label:"Orientation (ϕ) [deg]",value:n,set:h,min:-180,max:180,description:"Orientation of source relative to x-axis"}),r.createElement(g,{label:"Ellipticity (q)",value:l,set:u,min:.15,max:.9999,description:"Controls whether source is circular (q=1) or elliptical (q=0)"}),r.createElement(g,{label:"Index",value:i,set:m,min:.5,max:5,description:"Higher values cause source brightness to decrease sharply with radius"}),r.createElement(g,{label:"Size (r_e) ['']",value:s,set:p,min:1e-4,max:10,description:"Sets the size of the source"}))},E=function(e){var t=e.phiDeg,a=e.q,n=e.r_ein,l=e.setPhiDeg,i=e.setQ,s=e.setRein;return r.createElement("div",null,r.createElement("h2",null,"Lens parameters"),r.createElement(g,{label:"Orientation (ϕ) [deg]",value:t,set:l,min:-180,max:180,description:"Orientation of lens relative to x-axis"}),r.createElement(g,{label:"Ellipticity (q)",value:a,set:i,min:.15,max:.9999,description:"Controls whether lens is circular (q=1) or elliptical (q=0)"}),r.createElement(g,{label:"Einstein radius (r_ein)",value:n,set:s,min:1e-4,max:2.5,description:"Sets the size of the lens"}))},y=function(e){var t=e.x,a=e.y,n=e.M_200c,l=e.setX,i=e.setY,s=e.setM200c;return r.createElement("div",null,r.createElement("h2",null,"Subhalo parameters"),r.createElement(g,{label:"Position (x) ['']",value:t,set:l,min:-2.5,max:2.5}),r.createElement(g,{label:"Position (y) ['']",value:a,set:i,min:-2.5,max:2.5}),r.createElement(g,{label:"Mass (M_200c) [M_sun]",value:n,set:s,min:1e5,max:Math.pow(10,10.5),description:"Subhalo mass in radius where density is 200 times rho_cr"}))},w=function(e){var t=e.sigma_n,a=e.setSigmaN,n=e.setRes;return r.createElement("div",null,r.createElement("h2",null,"Telescope"),r.createElement(g,{label:"Noise level",value:t,set:a,min:0,max:2.5,description:"Telescope noise level"}),r.createElement("div",null,r.createElement("button",{style:{margin:"0.1rem"},onClick:function(){return n(.012)}},"ELT"),r.createElement("button",{style:{margin:"0.1rem"},onClick:function(){return n(.031)}},"JWST"),r.createElement("button",{style:{margin:"0.1rem"},onClick:function(){return n(.05)}},"Hubble Space Telescope"),r.createElement("button",{style:{margin:"0.1rem"},onClick:function(){return n(.1)}},"Euclid"),r.createElement("button",{style:{margin:"0.1rem"},onClick:function(){return n(.7)}},"Rubin Observatory")))},b=function(){var e=(0,r.useState)(.05),t=e[0],a=e[1],n=(0,r.useState)(.1),s=n[0],o=n[1],c=(0,r.useState)(40.107),h=c[0],u=c[1],m=(0,r.useState)(.5),p=m[0],v=m[1],g=(0,r.useState)(4),b=g[0],_=g[1],S=(0,r.useState)(5),q=S[0],I=S[1],P=(0,r.useState)(57.296),D=P[0],T=P[1],C=(0,r.useState)(.75),k=C[0],O=C[1],R=(0,r.useState)(1.5),F=R[0],H=R[1],j=(0,r.useState)(-1.1),Q=j[0],X=j[1],Y=(0,r.useState)(-1.1),Z=Y[0],z=Y[1],A=(0,r.useState)(1e10),N=A[0],L=A[1],W=(0,r.useState)(.1),B=W[0],J=W[1],G=(0,r.useState)(0),K=G[0],U=G[1],V=480,$={x:t,y:s,phi:h*Math.PI/180,q:p,index:b,r_e:q,I_e:.05},ee={x:0,y:0,phi:D*Math.PI/180,q:k,r_ein:F},te={x:Q,y:Z,M_200c:N,tau:6},ae=(0,M.At)(B,5,4,(function(e,t){return i(e,t,$)})),ne=d($,ee,te,B,5,4,K);return r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"left",padding:"0.5rem"}},r.createElement("div",null,r.createElement("h2",{"data-tip":!0,"data-for":"sourceHeaderTT"},"Source"),r.createElement(l.Z,{id:"sourceHeaderTT"},"Source galaxy with no lensing"),r.createElement(f,{draw:function(e){return function(e,t,a,n){n.save(),n.fillStyle="#000000",n.translate(n.canvas.width/2,n.canvas.height/2);var r=(0,M.jy)(e,t,a,n);n.putImageData(r,0,0),n.restore()}(ae,-3,18,e)},width:V,height:V})),r.createElement(x,{x:t,y:s,phiDeg:h,q:p,index:b,r_e:q,setX:a,setY:o,setPhiDeg:u,setQ:v,setIndex:_,setRe:I}),r.createElement(w,{sigma_n:K,setSigmaN:U,setRes:J})),r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"left",padding:"0.5rem"}},r.createElement("div",null,r.createElement("h2",{"data-tip":!0,"data-for":"obsHeaderTT"},"Observation"),r.createElement(l.Z,{id:"obsHeaderTT"},"Observation of lensed galaxy seen by telescope"),r.createElement(f,{draw:function(e){return function(e,t,a,n,r,l,i){i.save(),i.fillStyle="#000000",i.translate(i.canvas.width/2,i.canvas.height/2),i.imageSmoothingEnabled=!1;var s=(0,M.jy)(e,r,l,i);i.putImageData(s,0,0);var o=Math.sqrt(e.length),c=i.canvas.width/o;i.strokeStyle="#FF0000",i.beginPath(),i.ellipse(t.x,t.y,t.r_ein/t.q/n*c,t.r_ein*t.q/n*c,-t.phi,0,2*Math.PI),i.stroke(),i.beginPath(),i.arc(a.x*c/n,-a.y*c/n,3,0,2*Math.PI,!1),i.fillStyle="#FF0000",i.fill(),i.restore()}(ne,ee,te,B,-3,18,e)},width:V,height:V})),r.createElement(E,{phiDeg:D,q:k,r_ein:F,setPhiDeg:T,setQ:O,setRein:H}),r.createElement(y,{x:Q,y:Z,M_200c:N,setX:X,setY:z,setM200c:L})))}}}]);
//# sourceMappingURL=component---src-pages-strong-lensing-tsx-b6fb4ad0ec598d45b07e.js.map